<!DOCTYPE html>
<html lang="en">
	<head>
		
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" href="style/base.css">
		<link rel="stylesheet" href="sign_up.css">
		<title>Sign Up</title>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script>
			$(document).ready(function(){
			$('form').validate();
			})
		</script>
	</head>

	<body>
	<span id="banner">
	</span>
	<script type="text/javascript">

var ck_email = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i;
var ck_username = /^[A-Za-z0-9_]{5,20}$/;
var ck_password =  /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[#?!@$*%^&-]).{5,20}$/;
var ck_dateofbirth = /[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]/;


function validate(form){

	var email = form.email.value;
	var username = form.username.value;
	var password = form.password.value;
	var gender = form.gender.value;
	var dateofbirth = form.dateOfBirth.value;
	var errors = [];

	if (!ck_email.test(email)) {
		errors[errors.length] = "You must enter a valid email address.";
		document.getElementById('valid_email').style.display = 'block';
		document.getElementById('invalid_email').style.display = 'inline';
	}
	else{
		document.getElementById('valid_email').style.display = 'none';
		document.getElementById('invalid_email').style.display = 'none';
	}
	
	if (!ck_dateofbirth.test(dateofbirth)) {
		errors[errors.length] = "You must enter a valid date of birth.";
		document.getElementById('valid_dob').style.display = 'block';
		document.getElementById('invalid_dob').style.display = 'inline';
	}
	else{
		document.getElementById('valid_dob').style.display = 'none';
		document.getElementById('invalid_dob').style.display = 'none';
	}
	
	if (!ck_username.test(username)) {
		errors[errors.length] = "Your username must be at least 5 characters long and contains no special characters.";
		document.getElementById('valid_user').style.display = 'block';
		document.getElementById('invalid_user').style.display = 'inline';
	}
	else{
		document.getElementById('valid_user').style.display = 'none';
		document.getElementById('invalid_user').style.display = 'none';
	}

	if (!ck_password.test(password)) {
		errors[errors.length] = "You must enter a valid Password ";
		document.getElementById('valid_password').style.display = 'block';
		document.getElementById('invalid_password').style.display = 'inline';
	}
	else{
		document.getElementById('valid_password').style.display = 'none';
		document.getElementById('invalid_password').style.display = 'none';
	}

	if (gender==0) {
		errors[errors.length] = "Select Gender";
		document.getElementById('valid_gender').style.display = 'block';
		document.getElementById('invalid_gender').style.display = 'inline';
	}
	else{
		document.getElementById('valid_gender').style.display = 'none';
		document.getElementById('invalid_gender').style.display = 'none';
	}
	
	if(!document.getElementById('terms_agree').checked){
		errors[errors.length] = "Agree to ToS";
		document.getElementById('valid_tos').style.display = 'block';
		document.getElementById('invalid_tos').style.display = 'inline';
	}
	else{
		document.getElementById('valid_tos').style.display = 'none'
		document.getElementById('invalid_tos').style.display = 'none';
	}
	
	if(document.getElementById('password').value != document.getElementById('confirm_password').value){
		errors[errors.length] = "Please make sure you entered the same passwords";
		document.getElementById('valid_confirm').style.display = 'block';
		document.getElementById('invalid_confirm').style.display = 'inline';
	}
	else{
		document.getElementById('valid_confirm').style.display = 'none';
		document.getElementById('invalid_confirm').style.display = 'none';
	}
	 
	if (errors.length > 0) {
		reportErrors(errors);
		return false;
	}
	return true;
	}

	function reportErrors(errors){
	var msg = "Please Enter Valide Data...\n";
	for (var i = 0; i<errors.length; i++) {
		var numError = i + 1;
		msg += "\n" + numError + ". " + errors[i];
	}
	//alert(msg);
}

</script>
	<div class="page">
		<header>
			<a href="index.html"><img id="logo" src="images/GR8.png" alt="GR8"></a>
			<h1 id="slogan">We rate games from H8 to GR8</h1>
			<div id="login">
				<a href="">Log in</a><BR><a href="">Sign up</a>
			</div>
			<form id="search">
				<label class="hidden" for="search-field">search field</label>
				<input id="search-field" type="text"><input id="search-button" type="submit" Value="Search">
			</form>
			
		</header>
		<nav>
			<ul>
				<li id="console"><a href="devices/console.html">Console</a>
					<div class = "dropdown">
						<a href = "devices/console/ps4.html">PlayStation 4</a>
						<a href = "devices/console/xbone.html">Xbox One</a>
						<a href = "devices/console/switch.html">Nintendo Switch</a>
					</div>
				</li>
				<li id="pc"><a href="devices/pc.html">PC</a></li>
				<li id="handheld"><a href="devices/handheld.html">Handheld</a>
					<div class = "dropdown">
						<a href = "devices/handheld/vita.html">PlayStation Vita</a>
						<a href = "devices/handheld/3ds.html">Nintendo 3DS</a>
					</div>
				</li>
				<li id="mobile"><a href="devices/mobile.html">Mobile</a>
					<div class = "dropdown">
						<a href = "devices/mobile/ios.html">iOS</a>
						<a href = "devices/mobile/android.html">Android</a>
					</div>
				</li>
				<li id="about"><a href="about.html">About</a></li>
			</ul>
		</nav>
		<Main>
			<h2>Sign Up</h2>
			
				<form class="sign_up" method="post" action="#" onSubmit="return validate(this);" name="form">
				<div class="text_boxes">
					<div>
						<label for="username">Username<span id="invalid_user">*</span></label>
						<input type="text" name="username" id="username" placeholder="Username">
						
					</div>
					<span id = "valid_user"> Username must be between 5 and 20 characters and contain only letters and numbers</span>

					<div>
						<label for="email">Email<span id="invalid_email">*</span></label>
						<input type="email" name="email" id="email" placeholder="Email">
						
					</div>
					<span id = "valid_email"> Please enter a valid Email</span>
					<div>
						<label for="password">Password<span id="invalid_password">*</span></label>
						<input type="password" name="password" id="password">
						
					</div>
					<span id = "valid_password"> Passwords must contain an uppercase letter, lowercase letter, a number, a symbol, and must be at least 5 characters long.</span>
					<div>
						<label for="confirm_password">Confirm Password<span id="invalid_confirm">*</span></label>
						<input type="password" name="password_confirm" name="confirm_password" id="confirm_password">
						
					</div>
					<span id = "valid_confirm"> Passwords don't match</span>
				</div>
				<div>
					<input type="radio" name="gender" value="male" id="male"> <label for="male"> Male </label>
					<input type="radio" name="gender" value="female"id="female"> <label for="female"> Female </label>
					<input type="radio" name="gender" value="other" id="other"> <label for="other"> Other<span id="invalid_gender">*</span></label>
					
				</div>
				<span id = "valid_gender"> Please select a gender</span>
				<div>
					<label for="dateOfBirth" id="date_of_birth_label">Date of Birth<span id="invalid_dob">*</span></label>
					<input type="text" name="dateOfBirth" id="dateOfBirth" placeholder="yyyy-mm-dd">
				</div>
				<span id = "valid_dob"> Please enter a valid birth date</span>
				<div>
					<input id="terms_agree" type="checkbox" name="terms_agree">
					<label id="terms_label" for="terms_box">Agree to Terms and Conditions<span id="invalid_tos">*</span></label>
				</div>
				<span id = "valid_tos"> Please agree to the terms and conditions</span>
				<div>
					<input id="submit" type="submit" value="Sign Up" onClick="myFunction()">
				</div>
			</form>
		</main>
		<footer>
		
			<p>Copyright &copy; 2017</p>
			<span id="social_media">
			<!--icons from https://www.iconfinder.com/Io9mkt-->
				<a href=""><img src="images/social_media/facebook.png" alt="facebook"></a>
				<a href=""><img src="images/social_media/twitter.png" alt="twitter"></a>
				<a href=""><img src="images/social_media/youtube.png" alt="youtube"></a>
			</span>
		</footer>
	</div>
	</body>
</html>